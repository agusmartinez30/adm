<app-header [title]="title"></app-header>

<ion-content scrollbar>
  <ion-grid class="ion-padding">
    <!-- <div class="card"> -->

    <ion-row class="ion-align-items-center">
      <ion-col size="10" size-md="6">
        <ion-searchbar animated placeholder="Buscar por etapa" inputmode='search' type='search' [(ngModel)]='textSearch'
            (ionChange)='getItems()' [debounce]='250'></ion-searchbar>
      </ion-col>
      <!-- <ion-col>
        <div class="card ion-margin-top">
          <ion-item lines="none">
            <ion-label position="floating">Seleccione Etapa:</ion-label>
            <ion-select
              interface="popover"
              formControlName="stage"
              (ionChange)="getItems()"
              (ngModel)="textSearch"
            >
              <ion-select-option disabled value="">Etapa</ion-select-option>
              <ion-select-option *ngFor="let stage of stages" [value]="stage.id"
                >{{ stage.name }}
              </ion-select-option>
            </ion-select>
          </ion-item>
        </div>
      </ion-col> -->
      <ion-col size="12" size-md="3"></ion-col>
      <ion-col size="12" size-md="3" class="ion-text-right ion-text-end">
        <ion-button
          (click)="pageService.navigateRoute(options.detailPageName + '/edit/new')"
          color="secondary"
          expand="block"
          fill="solid"
        >
          <ion-icon slot="start" name="add-circle-outline"></ion-icon>
          Agregar
        </ion-button>
      </ion-col>
    </ion-row>
    <!-- </div> -->

    <app-table
      [items]="items"
      [options]="options"
      [page]="page"
      [count]="count"
      (onEnabledChange)="handleEnable($event)"
      (onPageChange)="handleTablePage($event)"
    ></app-table>
  </ion-grid>
</ion-content>
